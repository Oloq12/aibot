<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçë Peach Mini - AI –°–ø—É—Ç–Ω–∏–∫–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
                 * {
             margin: 0;
             padding: 0;
             box-sizing: border-box;
         }

         /* Mobile overflow prevention */
         body, html {
             overflow-x: hidden;
             max-width: 100vw;
         }

         .main, .page, .gallery, .filters {
             max-width: 100%;
             overflow-x: hidden;
         }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: #111116;
            color: white;
            overflow-x: hidden;
            width: 100%;
            max-width: 420px;
            margin: 0 auto;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* HEADER - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0 */
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), transparent);
            flex-shrink: 0;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
        }

        .logo .mini {
            background: linear-gradient(to right, #f093fb, #667eea);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

                 /* TOP PANEL */
         .top-panel {
             position: fixed;
             top: 80px;
             left: 50%;
             transform: translateX(-50%);
             width: calc(100% - 32px);
             max-width: 388px;
             display: flex;
             align-items: center;
             justify-content: space-between;
             padding: 8px 16px;
             background: rgba(0, 0, 0, 0.8);
             backdrop-filter: blur(20px);
             border-radius: 20px;
             z-index: 100;
         }

         .gender-selector {
             display: flex;
             align-items: center;
             background: rgba(255, 255, 255, 0.1);
             border-radius: 12px;
             padding: 4px;
         }

         .gender-option {
             padding: 6px 12px;
             border-radius: 8px;
             border: none;
             background: transparent;
             color: white;
             cursor: pointer;
             font-size: 0.875rem;
             transition: all 0.3s ease;
         }

         .gender-option.active {
             background: rgba(255, 255, 255, 0.2);
         }

         .points-display {
             display: flex;
             align-items: center;
             background: rgba(255, 255, 255, 0.1);
             border-radius: 12px;
             padding: 6px 12px;
             gap: 6px;
         }

         .panel-icons {
             display: flex;
             align-items: center;
             gap: 12px;
         }

         .panel-icon {
             width: 32px;
             height: 32px;
             background: rgba(255, 255, 255, 0.1);
             border-radius: 50%;
             display: flex;
             align-items: center;
             justify-content: center;
             cursor: pointer;
             transition: all 0.3s ease;
             border: none;
             color: white;
         }

         .panel-icon:hover {
             background: rgba(255, 255, 255, 0.2);
         }

         .panel-icon.premium {
             background: linear-gradient(135deg, #f093fb, #667eea);
         }

         /* MAIN CONTENT */
         .main {
             flex-grow: 1;
             overflow-y: auto;
             padding-bottom: 80px;
             padding-top: 80px;
         }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* WELCOME - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0 */
        .welcome, .mobile-welcome {
            text-align: center;
            padding: 16px 20px;
            max-width: 100%;
            box-sizing: border-box;
        }

        .welcome h1, .mobile-welcome h1 {
            font-size: 1.4rem;
            font-weight: bold;
            color: white;
            margin-bottom: 8px;
            word-wrap: break-word;
            padding: 0 10px;
        }

        .welcome p, .mobile-welcome p {
            color: #9ca3af;
            margin-top: 8px;
            font-size: 0.85rem;
            word-wrap: break-word;
            padding: 0 10px;
        }

                 /* CHARACTER GALLERY - —Ç–æ—á–Ω–∞—è –∫–æ–ø–∏—è v0 —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é */
         .gallery {
             width: 100%;
             height: 305px;
             display: flex;
             align-items: center;
             justify-content: center;
             position: relative;
             margin: 8px 0;
         }

         .desktop-grid {
             display: none; /* –°–∫—Ä—ã—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
         }

         .desktop-sidebar {
             display: none; /* –°–∫—Ä—ã—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
         }

         .hero-banner {
             display: none; /* –°–∫—Ä—ã—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
         }

         .mobile-welcome {
             display: block; /* –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
         }

         .desktop-hero {
             display: none; /* –°–∫—Ä—ã—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
         }

         .gallery-container {
             position: relative;
             width: 100%;
             height: 245px;
             perspective: 1000px;
         }

         .carousel {
             position: absolute;
             width: 200px;
             height: 100%;
             transition: transform 1000ms cubic-bezier(0.4, 0, 0.2, 1);
             transform-style: preserve-3d;
             left: 50%;
             margin-left: -100px;
             cursor: grab;
             user-select: none;
             -webkit-user-select: none;
             -moz-user-select: none;
             -ms-user-select: none;
         }

         .carousel:active {
             cursor: grabbing;
         }

        .character-card {
            position: absolute;
            width: 163px;
            height: 245px;
            transition: transform 500ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 24px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            transition: all 500ms cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .card-inner.center {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(236, 72, 153, 0.3);
            transform: scale(1.05);
        }

        .card-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.9;
        }

        .card-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
        }

        .card-content {
            position: absolute;
            bottom: 0;
            left: 0;
            padding: 12px;
            color: white;
        }

        .card-emoji {
            font-size: 1.25rem;
        }

        .card-name {
            font-size: 1.25rem;
            font-weight: bold;
            margin-top: 4px;
        }

        .card-age {
            font-weight: 300;
        }

        .card-personality {
            font-size: 0.75rem;
            color: #d1d5db;
            margin-top: 4px;
        }

        /* CREATE BUTTON - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0 */
        .create-button {
            margin: 24px 16px;
            width: calc(100% - 32px);
            height: 56px;
            font-size: 1.125rem;
            font-weight: bold;
            background: linear-gradient(135deg, #f093fb, #667eea);
            transition: opacity 0.3s;
            border-radius: 16px;
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .create-button:hover {
            opacity: 0.9;
        }

                 .fish-icon {
             width: 24px;
             height: 24px;
         }



        /* CHARACTER CATALOG - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0 */
        .catalog {
            padding: 0 16px 16px;
        }

        .filters {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            width: 100%;
        }

        .filter-button {
            border-radius: 9999px;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.1);
            color: #d1d5db;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 0.875rem;
            flex: 1;
            text-align: center;
        }

        .filter-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .filter-button.active {
            background: linear-gradient(135deg, #ec4899, #f97316);
            color: white;
        }

        .catalog-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        /* CREATE COMPANION CARD - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0 */
        .create-companion-card {
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            border: 1px dashed rgba(255, 255, 255, 0.2);
            transition: border-color 0.3s;
            aspect-ratio: 3/4;
        }

        .create-companion-card:hover {
            border-color: #ec4899;
        }

        .create-companion-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.5;
            transition: opacity 0.3s;
        }

        .create-companion-card:hover .create-companion-image {
            opacity: 0.7;
        }

        .create-companion-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(131, 24, 67, 0.5), rgba(88, 28, 135, 0.5));
        }

        .create-companion-content {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            padding: 16px;
        }

        .create-fish-icon {
            width: 48px;
            height: 48px;
            color: #f472b6;
        }

        .create-companion-title {
            font-weight: bold;
            font-size: 1.125rem;
            margin-top: 8px;
        }

        /* CATALOG CHARACTER CARD - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0 */
        .catalog-card {
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            aspect-ratio: 3/4;
        }

        .catalog-card-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .catalog-card-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
        }

        .catalog-card-tag {
            position: absolute;
            top: 8px;
            left: 8px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(4px);
            color: white;
            font-size: 0.75rem;
            padding: 4px 8px;
            border-radius: 9999px;
        }

        .catalog-card-info {
            position: absolute;
            bottom: 8px;
            left: 8px;
            color: white;
        }

        .catalog-card-name {
            font-weight: bold;
        }

        .catalog-card-age {
            font-weight: 300;
        }

        .catalog-card-add {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 28px;
            height: 28px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(4px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }

        .catalog-card-add:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* BOTTOM NAVIGATION - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            max-width: 100vw;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            padding: 8px 16px 12px 16px;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(24px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
            height: 95px;
            box-sizing: border-box;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 4px 6px;
            color: #9ca3af;
            text-decoration: none;
            cursor: pointer;
            transition: color 0.3s;
            min-height: 60px;
            justify-content: center;
            flex: 1;
            max-width: 70px;
        }

        .nav-item:hover {
            color: white;
        }

        .nav-item.active {
            color: #f472b6;
        }

        /* Magic wand animation */
        .magic-wand {
            animation: wandFloat 2s ease-in-out infinite;
        }

        .magic-wand .sparkles circle {
            animation: sparkle 1.5s ease-in-out infinite;
        }

        .magic-wand .sparkles circle:nth-child(1) { animation-delay: 0s; }
        .magic-wand .sparkles circle:nth-child(2) { animation-delay: 0.3s; }
        .magic-wand .sparkles circle:nth-child(3) { animation-delay: 0.6s; }
        .magic-wand .sparkles circle:nth-child(4) { animation-delay: 0.9s; }

        @keyframes wandFloat {
            0%, 100% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(2deg) scale(1.05); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Magic wand animation for CREATE button */
        .magic-wand-create {
            animation: wandFloatCreate 2.5s ease-in-out infinite;
        }

        .magic-wand-create .sparkles-create circle {
            animation: sparkleCreate 1.8s ease-in-out infinite;
        }

        .magic-wand-create .sparkles-create circle:nth-child(1) { animation-delay: 0s; }
        .magic-wand-create .sparkles-create circle:nth-child(2) { animation-delay: 0.2s; }
        .magic-wand-create .sparkles-create circle:nth-child(3) { animation-delay: 0.4s; }
        .magic-wand-create .sparkles-create circle:nth-child(4) { animation-delay: 0.6s; }
        .magic-wand-create .sparkles-create circle:nth-child(5) { animation-delay: 0.8s; }
        .magic-wand-create .sparkles-create circle:nth-child(6) { animation-delay: 1.0s; }

        @keyframes wandFloatCreate {
            0%, 100% { transform: rotate(-2deg) scale(1); }
            25% { transform: rotate(1deg) scale(1.08); }
            50% { transform: rotate(2deg) scale(1.12); }
            75% { transform: rotate(-1deg) scale(1.05); }
        }

        @keyframes sparkleCreate {
            0%, 100% { opacity: 0.2; transform: scale(0.6); }
            25% { opacity: 0.8; transform: scale(1.1); }
            50% { opacity: 1; transform: scale(1.4); }
            75% { opacity: 0.6; transform: scale(0.9); }
        }

        /* PROMO BANNER - Premium Quality */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        
        .promo-banner {
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 50%, #F59E0B 100%);
            color: white;
            padding: 6px 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
            min-height: 40px;
            flex-wrap: nowrap;
        }

        .promo-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #FBBF24, #F59E0B, #FBBF24);
            animation: shimmer 2s infinite;
        }

        .promo-banner::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 50%, rgba(255,255,255,0.1) 100%);
            animation: shimmer 3s infinite;
        }

        .promo-content {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
            z-index: 2;
            position: relative;
        }

        .promo-text {
            font-size: 9px;
            font-weight: 600;
            letter-spacing: 0.2px;
            text-transform: uppercase;
            opacity: 0.95;
            white-space: nowrap;
        }

        .promo-diamond {
            width: 12px;
            height: 12px;
            animation: sparkle 2s infinite;
            filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.5));
            flex-shrink: 0;
        }

        .promo-discount {
            font-size: 11px;
            font-weight: 900;
            letter-spacing: 0.2px;
            text-transform: uppercase;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            white-space: nowrap;
        }

        .promo-timer {
            font-family: 'Inter', monospace;
            font-size: 9px;
            font-weight: 700;
            margin-left: auto;
            margin-right: 8px;
            padding: 2px 6px;
            background: rgba(255, 255, 255, 0.25);
            border-radius: 4px;
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            letter-spacing: 0.3px;
            z-index: 2;
            position: relative;
            white-space: nowrap;
        }

        .promo-button {
            background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);
            color: #1F2937;
            border: none;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 9px;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.2px;
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4);
            z-index: 2;
            position: relative;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .promo-button:hover {
            background: linear-gradient(135deg, #FBBF24 0%, #FCD34D 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.6);
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* DESKTOP ADAPTATION */
        @media (min-width: 1024px) {
            body {
                display: flex;
                margin: 0;
                padding: 0;
            }
            
            .promo-banner {
                padding: 12px 24px;
                font-size: 14px;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                z-index: 1000;
            }
            
            .header {
                display: none; /* –°–∫—Ä—ã—Ç—å –º–æ–±–∏–ª—å–Ω—ã–π header */
            }
            
            .top-panel {
                display: none; /* –°–∫—Ä—ã—Ç—å –º–æ–±–∏–ª—å–Ω—É—é –ø–∞–Ω–µ–ª—å */
            }
            
            /* Desktop Sidebar */
            .desktop-sidebar {
                display: block;
                position: fixed;
                left: 0;
                top: 60px; /* –ü–æ—Å–ª–µ –±–∞–Ω–Ω–µ—Ä–∞ */
                width: 220px;
                height: calc(100vh - 60px);
                background: #0f0f0f;
                border-right: 1px solid rgba(255, 255, 255, 0.1);
                overflow-y: auto;
                z-index: 999;
            }
            
            .sidebar-header {
                padding: 20px 16px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .sidebar-logo {
                font-size: 18px;
                font-weight: 700;
                color: white;
                display: flex;
                align-items: center;
                gap: 8px;
            }
            
            .sidebar-nav {
                padding: 16px 0;
            }
            
            .sidebar-item {
                display: flex;
                align-items: center;
                gap: 12px;
                padding: 12px 20px;
                color: #9ca3af;
                text-decoration: none;
                transition: all 0.2s ease;
                font-size: 14px;
                font-weight: 500;
            }
            
            .sidebar-item:hover {
                background: rgba(255, 255, 255, 0.05);
                color: white;
            }
            
            .sidebar-item.active {
                background: rgba(139, 92, 246, 0.1);
                color: #8B5CF6;
                border-right: 3px solid #8B5CF6;
            }
            
            .sidebar-item.premium {
                background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
                color: white;
                margin: 16px 12px;
                border-radius: 12px;
                font-weight: 600;
            }
            
            .sidebar-item.premium:hover {
                transform: translateY(-1px);
                box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
            }
            
            .sidebar-footer {
                position: absolute;
                bottom: 20px;
                left: 0;
                right: 0;
            }
            
            .main {
                margin-left: 220px;
                margin-top: 60px; /* –ü–æ—Å–ª–µ –±–∞–Ω–Ω–µ—Ä–∞ */
                width: calc(100% - 220px);
                min-height: calc(100vh - 60px);
            }
            
            /* Desktop Grid Layout */
            .gallery {
                display: none; /* –°–∫—Ä—ã—Ç—å –∫–∞—Ä—É—Å–µ–ª—å –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
            }
            
            .desktop-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 24px;
                padding: 24px;
                max-width: none;
                margin: 0;
            }
            
            .bottom-nav {
                display: none; /* –°–∫—Ä—ã—Ç—å –º–æ–±–∏–ª—å–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é */
            }
            
            /* Hero Banner for Desktop */
            .hero-banner {
                display: none; /* –£–±–∏—Ä–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π hero –±–∞–Ω–Ω–µ—Ä */
            }
            
            .mobile-welcome {
                display: none; /* –°–∫—Ä—ã—Ç—å –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
            }
            
            /* Desktop Hero Section */
            .desktop-hero {
                display: block;
                text-align: center;
                padding: 40px 24px 20px 24px;
                color: white;
            }
            
            .desktop-hero h1 {
                font-size: 48px;
                font-weight: 900;
                margin-bottom: 16px;
                background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 50%, #F59E0B 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                text-shadow: none;
            }
            
            .desktop-hero p {
                font-size: 18px;
                color: #9ca3af;
                margin-bottom: 32px;
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }
            
            .hero-content h1 {
                font-size: 36px;
                font-weight: 900;
                margin-bottom: 16px;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            }
            
            .hero-content p {
                font-size: 18px;
                margin-bottom: 32px;
                opacity: 0.9;
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }
            
            .hero-button {
                background: rgba(255, 255, 255, 0.2);
                color: white;
                border: 2px solid rgba(255, 255, 255, 0.3);
                padding: 16px 32px;
                border-radius: 50px;
                font-size: 18px;
                font-weight: 700;
                cursor: pointer;
                transition: all 0.3s ease;
                backdrop-filter: blur(10px);
                margin-bottom: 24px;
            }
            
            .hero-button:hover {
                background: rgba(255, 255, 255, 0.3);
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            }
            
            .hero-actions {
                display: flex;
                gap: 16px;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .hero-action-btn {
                background: rgba(0, 0, 0, 0.2);
                color: white;
                border: 1px solid rgba(255, 255, 255, 0.2);
                padding: 12px 24px;
                border-radius: 25px;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                backdrop-filter: blur(10px);
            }
            
            .hero-action-btn:hover {
                background: rgba(255, 255, 255, 0.1);
                transform: translateY(-1px);
            }
            
            .desktop-character-card {
                background: rgba(255, 255, 255, 0.05);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 16px;
                overflow: hidden;
                transition: all 0.3s ease;
                cursor: pointer;
                height: 350px;
            }
            
            .desktop-character-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
                border-color: rgba(255, 255, 255, 0.2);
            }
            
            .desktop-card-image {
                width: 100%;
                height: 250px;
                object-fit: cover;
                border-radius: 16px 16px 0 0;
            }
            
            .desktop-card-content {
                padding: 16px;
            }
            
            .desktop-card-name {
                font-size: 18px;
                font-weight: bold;
                color: white;
                margin-bottom: 4px;
            }
            
            .desktop-card-age {
                color: #9ca3af;
                font-size: 14px;
                margin-bottom: 8px;
            }
            
            .desktop-card-tags {
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
            }
            
            .desktop-tag {
                background: rgba(255, 255, 255, 0.1);
                color: #d1d5db;
                padding: 4px 8px;
                border-radius: 12px;
                font-size: 12px;
            }
            
            /* Navigation adaptation */
            .nav {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: rgba(17, 17, 22, 0.95);
                backdrop-filter: blur(20px);
                padding: 12px 24px;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .nav-item {
                flex-direction: column;
                gap: 4px;
                min-width: 80px;
            }
            
            .nav-text {
                font-size: 12px;
            }
        }

        @media (min-width: 1400px) {
            .desktop-grid {
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                gap: 32px;
                padding: 32px;
                max-width: 1400px;
            }
            
            .desktop-character-card {
                height: 400px;
            }
            
            .desktop-card-image {
                height: 280px;
            }
        }

        .nav-item.create {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
            border-radius: 50%;
            color: white;
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.4);
            transform: scale(1.1);
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }
        
        .nav-item.create .nav-icon {
            width: 32px;
            height: 32px;
            margin-bottom: 4px;
        }
        
        .nav-item.create .nav-text {
            font-size: 11px;
            font-weight: 700;
            text-align: center;
            line-height: 1;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 2px;
        }

        .nav-text {
            font-size: 0.75rem;
            margin-top: 4px;
        }

        .nav-dot {
            width: 4px;
            height: 4px;
            background: #f472b6;
            border-radius: 50%;
            margin-top: 4px;
        }

        @media (max-width: 420px) {
            .character-card {
                width: 160px;
                height: 240px;
            }
        }
    </style>
</head>
<body>
    <!-- PROMO BANNER -->
    <div class="promo-banner" onclick="openPremium()">
        <div class="promo-content">
            <span class="promo-text" data-i18n="promo.first_subscription">–ü–ï–†–í–ê–Ø –ü–û–î–ü–ò–°–ö–ê</span>
            <svg class="promo-diamond" viewBox="0 0 24 24" fill="currentColor">
                <path d="M6 2l3 7H4l8 11 8-11h-5l3-7H6z"/>
            </svg>
            <span class="promo-discount" data-i18n="promo.discount">–°–ö–ò–î–ö–ê –î–û 70%</span>
            <div class="promo-timer">
                <span id="timer-minutes">27</span>:<span id="timer-seconds">49</span>:<span id="timer-milliseconds">00</span>
            </div>
        </div>
        <button class="promo-button" onclick="event.stopPropagation(); openPremium();" data-i18n="promo.get_now">–ü–æ–ª—É—á–∏—Ç—å</button>
    </div>

    <!-- HEADER -->
    <header class="header">
        <div class="logo" onclick="navigateTo('home')">
            üçë Peach<span class="mini">Mini</span>
        </div>
    </header>

    <!-- TOP PANEL -->
    <div class="top-panel">
        <div class="gender-selector">
            <button class="gender-option active" onclick="selectGender('female')">‚ôÄ</button>
            <button class="gender-option" onclick="selectGender('male')">‚ôÇ</button>
        </div>
        
        <div class="points-display">
            <span style="color: #f472b6;">‚ô•</span>
            <span>16</span>
            <button style="background: none; border: none; color: white; cursor: pointer; font-size: 1.2rem;">+</button>
        </div>
        
        <div class="panel-icons">
            <button class="panel-icon" onclick="openProfile()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
            </button>
            <button class="panel-icon premium" onclick="openPremium()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 2l3 7H4l8 11 8-11h-5l3-7H6z"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- DESKTOP SIDEBAR -->
    <aside class="desktop-sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                üçë <span>Peach Mini</span>
            </div>
        </div>
        
        <nav class="sidebar-nav">
            <a href="#" class="sidebar-item active" data-page="home">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M9.135 20.773v-3.057c0-.78.637-1.414 1.423-1.414h2.875c.377 0 .74.15 1.006.414.267.265.417.624.417 1v3.057c-.002.325.126.637.356.867.23.23.544.36.87.36h1.962a3.46 3.46 0 002.443-1 3.41 3.41 0 001.013-2.422V9.867c0-.735-.328-1.431-.895-1.902l-6.671-5.29a3.097 3.097 0 00-3.949.072L3.467 7.965A2.474 2.474 0 002.5 9.867v8.702C2.5 20.464 4.047 22 5.956 22h1.916c.68 0 1.231-.544 1.236-1.218l.027-.009z"/>
                </svg>
                <span data-i18n="sidebar.explore">–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å</span>
            </a>
            
            <a href="#" class="sidebar-item" data-page="chat">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
                </svg>
                <span data-i18n="sidebar.chat">–ß–∞—Ç</span>
            </a>
            
            <a href="#" class="sidebar-item" data-page="collection">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20 6h-2V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM8 4h8v2H8V4zM20 20H4V8h16v12z"/>
                </svg>
                <span data-i18n="sidebar.collection">–ö–æ–ª–ª–µ–∫—Ü–∏—è</span>
            </a>
            
            <a href="#" class="sidebar-item" data-page="generate">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M4 18l8.5-8.5L20 2l2 2-7.5 7.5L6 20l-2-2z"/>
                </svg>
                <span data-i18n="sidebar.generate">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
            </a>
            
            <a href="#" class="sidebar-item" data-page="create">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
                <span data-i18n="sidebar.create">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</span>
            </a>
            
            <a href="#" class="sidebar-item" data-page="my-ai">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <span data-i18n="sidebar.my_ai">–ú–æ–π –ò–ò</span>
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <a href="#" class="sidebar-item premium" onclick="openPremium()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 2l3 7H4l8 11 8-11h-5l3-7H6z"/>
                </svg>
                <span data-i18n="sidebar.premium">–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º</span>
            </a>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main">
        <!-- HOME PAGE -->
        <div id="page-home" class="page active">
            <!-- Desktop Hero - —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞ -->
            <div class="desktop-hero">
                <h1 data-i18n="hero.title">–°–û–ó–î–ê–ô–¢–ï –°–í–û–ï–ì–û –ò–î–ï–ê–õ–¨–ù–û–ì–û –ö–û–ú–ü–ê–ù–¨–û–ù–ê</h1>
                <p data-i18n="hero.subtitle">–í–∞—à –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤—Å–µ–≥–æ –≤ –æ–¥–Ω–æ–º –∫–ª–∏–∫–µ! –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–≥–æ –≤–Ω–µ—à–Ω–æ—Å—Ç—å, –ª–∏—á–Ω–æ—Å—Ç—å –∏ –≤–æ–ø–ª–æ—Ç–∏—Ç–µ —Å–≤–æ—é –º–µ—á—Ç—É –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –≤–º–µ—Å—Ç–µ</p>
            </div>

            <!-- Mobile Welcome - —Ç–æ–ª—å–∫–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
            <div class="mobile-welcome">
                <h1 data-i18n="home.title">–ù–∞–π–¥–∏ —Å–≤–æ—é –ø–∞—Ä—É</h1>
                <p data-i18n="home.subtitle">–ù–∞—á–Ω–∏ –æ–±—â–∞—Ç—å—Å—è —Å AI-–∫–æ–º–ø–∞–Ω—å–æ–Ω–∞–º–∏</p>
            </div>

            <!-- CHARACTER GALLERY -->
            <div class="gallery">
                <div class="gallery-container">
                    <div class="carousel" id="carousel">
                        <!-- Characters will be added via JS -->
                    </div>
                </div>
            </div>

            <!-- DESKTOP GRID -->
            <div class="desktop-grid" id="desktop-grid">
                <!-- Desktop character cards will be added via JS -->
            </div>

                         <!-- CREATE BUTTON -->
             <button class="create-button" onclick="navigateTo('create')">
                 <svg class="fish-icon" viewBox="0 0 24 24" fill="currentColor">
                     <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1L13.5 2.5L16.17 5.17C15.24 5.06 14.32 5 13.4 5C10.94 5 8.5 5.64 6.35 6.85L8.1 8.6C9.5 8.06 11 7.79 12.5 7.79C15.5 7.79 18.39 8.94 20.66 11.21L21 9Z"/>
                 </svg>
                 –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ —Å–ø—É—Ç–Ω–∏–∫–∞
             </button>

            <!-- CHARACTER CATALOG -->
            <div class="catalog">
                                 <div class="filters">
                                             <button class="filter-button active" onclick="filterCatalog('–í—Å–µ –º–æ–¥–µ–ª–∏')" data-i18n="filters.all">–í—Å–µ –º–æ–¥–µ–ª–∏</button>
                        <button class="filter-button" onclick="filterCatalog('–†–µ–∞–ª—å–Ω—ã–π')" data-i18n="filters.realistic">–†–µ–∞–ª—å–Ω—ã–π</button>
                        <button class="filter-button" onclick="filterCatalog('–ê–Ω–∏–º–µ')" data-i18n="filters.anime">–ê–Ω–∏–º–µ</button>
                        <button class="filter-button" onclick="filterCatalog('–ú–æ–∏')" data-i18n="filters.my">–ú–æ–∏</button>
                 </div>
                <div class="catalog-grid" id="catalog-grid">
                    <!-- Catalog will be populated via JS -->
                </div>
            </div>
        </div>

        <!-- CHAT PAGE -->
        <div id="page-chat" class="page">
            <div style="padding: 20px; text-align: center;">
                <h2>üí¨ –ß–∞—Ç</h2>
                <p style="color: #9ca3af; margin-top: 8px;">–í–∞—à–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏</p>
            </div>
        </div>

        <!-- CREATE PAGE -->
        <div id="page-create" class="page">
            <div style="padding: 20px; text-align: center;">
                <h2>üé® –°–æ–∑–¥–∞—Ç—å</h2>
                <p style="color: #9ca3af; margin-top: 8px;">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–ø—É—Ç–Ω–∏–∫–∞</p>
            </div>
        </div>

        <!-- GENERATE PAGE -->
        <div id="page-generate" class="page">
            <div style="padding: 20px; text-align: center;">
                <h2>‚ú® –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</h2>
                <p style="color: #9ca3af; margin-top: 8px;">–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã</p>
            </div>
        </div>

        <!-- COMPANIONS PAGE -->
        <div id="page-companions" class="page">
            <div style="padding: 20px; text-align: center;">
                <h2>üìö –ö–æ–ª–ª–µ–∫—Ü–∏—è</h2>
                <p style="color: #9ca3af; margin-top: 8px;">–í–∞—à–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏</p>
            </div>
        </div>
    </main>

    <!-- BOTTOM NAVIGATION -->
    <nav class="bottom-nav">
        <a class="nav-item active" onclick="navigateTo('home')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
            <span class="nav-text" data-i18n="nav.home">–î–æ–º–æ–π</span>
            <div class="nav-dot"></div>
        </a>
        
        <a class="nav-item" onclick="navigateTo('chat')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
            </svg>
            <span class="nav-text" data-i18n="nav.chat">–ß–∞—Ç</span>
        </a>
        
        <a class="nav-item create" onclick="navigateTo('create')">
            <svg class="nav-icon magic-wand-create" viewBox="0 0 24 24" fill="currentColor">
                <path d="M4 18l8.5-8.5L20 2l2 2-7.5 7.5L6 20l-2-2z"/>
                <g class="sparkles-create">
                    <circle cx="3" cy="3" r="1" opacity="0.8"/>
                    <circle cx="21" cy="21" r="1" opacity="0.6"/>
                    <circle cx="7" cy="7" r="0.8" opacity="0.9"/>
                    <circle cx="15" cy="15" r="0.8" opacity="0.7"/>
                    <circle cx="11" cy="5" r="0.6" opacity="0.8"/>
                    <circle cx="17" cy="9" r="0.7" opacity="0.6"/>
                </g>
            </svg>
            <span class="nav-text" data-i18n="nav.create">–°–æ–∑–¥–∞—Ç—å</span>
        </a>
        
        <a class="nav-item" onclick="navigateTo('generate')">
            <svg class="nav-icon magic-wand" viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                <path d="M4 18l8.5-8.5L20 2l2 2-7.5 7.5L6 20l-2-2z"/>
                <g class="sparkles">
                    <circle cx="3" cy="3" r="1" opacity="0.8"/>
                    <circle cx="21" cy="21" r="1" opacity="0.6"/>
                    <circle cx="7" cy="7" r="0.8" opacity="0.9"/>
                    <circle cx="15" cy="15" r="0.8" opacity="0.7"/>
                </g>
            </svg>
            <span class="nav-text" data-i18n="nav.generate">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</span>
        </a>
        
        <a class="nav-item" onclick="navigateTo('companions')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20 6h-2V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM8 4h8v2H8V4zM20 20H4V8h16v12z"/>
                <path d="M6 10h12v2H6zM6 14h12v2H6zM6 18h8v2H6z"/>
            </svg>
            <span class="nav-text" data-i18n="nav.collection">–ö–æ–ª–ª–µ–∫—Ü–∏—è</span>
        </a>
    </nav>

    <script>
        // CHARACTERS DATA - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0
        const characters = [
            {
                emoji: "üòá",
                name: "Lila",
                age: 22,
                personality: "–ú–∏–ª–∞—è –∏ –Ω–µ–≤–∏–Ω–Ω–∞—è",
                image: "https://images.unsplash.com/photo-1494790108755-2616b612b1e4?w=400&h=600&fit=crop&crop=face"
            },
            {
                emoji: "üòà",
                name: "Roxy",
                age: 24,
                personality: "–î–µ—Ä–∑–∫–∞—è –∏ –∏–≥—Ä–∏–≤–∞—è",
                image: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&h=600&fit=crop&crop=face"
            },
            {
                emoji: "üß†",
                name: "Elara",
                age: 26,
                personality: "–£–º–Ω–∞—è –∏ –∑–∞–≥–∞–¥–æ—á–Ω–∞—è",
                image: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=600&fit=crop&crop=face"
            },
            {
                emoji: "üé®",
                name: "Chloe",
                age: 21,
                personality: "–¢–≤–æ—Ä—á–µ—Å–∫–∞—è –∏ –º–µ—á—Ç–∞—Ç–µ–ª—å–Ω–∞—è",
                image: "https://images.unsplash.com/photo-1488716820095-cbe80883c496?w=400&h=600&fit=crop&crop=face"
            },
            {
                emoji: "üî•",
                name: "Seraphina",
                age: 25,
                personality: "–°—Ç—Ä–∞—Å—Ç–Ω–∞—è –∏ —É–≤–µ—Ä–µ–Ω–Ω–∞—è",
                image: "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=400&h=600&fit=crop&crop=face"
            },
            {
                emoji: "üòä",
                name: "Mia",
                age: 23,
                personality: "–î–æ–±—Ä–∞—è –∏ –∑–∞–±–æ—Ç–ª–∏–≤–∞—è",
                image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=600&fit=crop&crop=face"
            }
        ];

        // CATALOG CHARACTERS - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0
        const catalogCharacters = [
            // Anime
            { name: "Lila", age: 18, image: "https://images.unsplash.com/photo-1494790108755-2616b612b1e4?w=180&h=240&fit=crop&crop=face", tag: "–ê–Ω–∏–º–µ" },
            { name: "Aria", age: 25, image: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=180&h=240&fit=crop&crop=face", tag: "–ê–Ω–∏–º–µ" },
            { name: "Kiana", age: 37, image: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=180&h=240&fit=crop&crop=face", tag: "–ê–Ω–∏–º–µ" },
            { name: "Miki", age: 20, image: "https://images.unsplash.com/photo-1488716820095-cbe80883c496?w=180&h=240&fit=crop&crop=face", tag: "–ê–Ω–∏–º–µ" },
            { name: "Yuna", age: 22, image: "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=180&h=240&fit=crop&crop=face", tag: "–ê–Ω–∏–º–µ" },
            // Real
            { name: "Serena", age: 28, image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=180&h=240&fit=crop&crop=face", tag: "–†–µ–∞–ª—å–Ω—ã–π" },
            { name: "Chloe", age: 24, image: "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=180&h=240&fit=crop&crop=face", tag: "–†–µ–∞–ª—å–Ω—ã–π" },
            { name: "Isabella", age: 26, image: "https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=180&h=240&fit=crop&crop=face", tag: "–†–µ–∞–ª—å–Ω—ã–π" },
            { name: "Zoe", age: 21, image: "https://images.unsplash.com/photo-1502823403499-6ccfcf4fb453?w=180&h=240&fit=crop&crop=face", tag: "–†–µ–∞–ª—å–Ω—ã–π" },
            { name: "Olivia", age: 29, image: "https://images.unsplash.com/photo-1509967419530-da38b4704bc6?w=180&h=240&fit=crop&crop=face", tag: "–†–µ–∞–ª—å–Ω—ã–π" }
        ];

                 // GALLERY VARIABLES - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—É—Å–µ–ª—å
         let activeIndex = 0;
         let autoRotateInterval;
         const totalCharacters = characters.length;
         const angle = 360 / totalCharacters;
         let currentRotation = 0;
         let isDragging = false;
         let startX = 0;

         // CURRENT FILTER
         let currentFilter = "–í—Å–µ –º–æ–¥–µ–ª–∏";

         // CURRENT GENDER
         let currentGender = 'female';

                 // INIT
         document.addEventListener('DOMContentLoaded', function() {
             createGallery();
             createCatalog();
             startAutoRotate();
             
             if (window.Telegram?.WebApp) {
                 window.Telegram.WebApp.ready();
                 window.Telegram.WebApp.expand();
             }
         });

                 // CREATE GALLERY - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—É—Å–µ–ª—å
         function createGallery() {
             const carousel = document.getElementById('carousel');
             
             characters.forEach((char, index) => {
                 const rotation = index * angle;
                 const isCenter = index === activeIndex;
                 const zDist = Math.abs(index - activeIndex);
                 const zIndex = totalCharacters - Math.min(zDist, totalCharacters - zDist);
                 
                 const card = document.createElement('div');
                 card.className = 'character-card';
                 card.style.transform = `rotateY(${rotation}deg) translateZ(200px)`;
                 card.style.zIndex = zIndex;
                 
                 card.innerHTML = `
                     <div class="card-inner ${isCenter ? 'center' : ''}">
                         <img class="card-image" src="${char.image}" alt="${char.name}" loading="lazy">
                         <div class="card-overlay"></div>
                         <div class="card-content">
                             <p class="card-emoji">${char.emoji}</p>
                             <h3 class="card-name">
                                 ${char.name}, <span class="card-age">${char.age}</span>
                             </h3>
                             <p class="card-personality">${char.personality}</p>
                         </div>
                     </div>
                 `;
                 
                 card.onclick = () => selectCharacter(index);
                 carousel.appendChild(card);
             });

                           // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
              carousel.addEventListener('mousedown', startDrag);
              carousel.addEventListener('touchstart', startTouch);
              document.addEventListener('mousemove', drag);
              document.addEventListener('touchmove', dragTouch);
              document.addEventListener('mouseup', endDrag);
              document.addEventListener('touchend', endDrag);

              // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
              rotateCarousel();

        // CREATE DESKTOP GRID
        function createDesktopGrid() {
            const grid = document.getElementById('desktop-grid');
            grid.innerHTML = '';
            
            characters.forEach((char, index) => {
                const card = document.createElement('div');
                card.className = 'desktop-character-card';
                
                card.innerHTML = `
                    <img class="desktop-card-image" src="${char.image}" alt="${char.name}" loading="lazy">
                    <div class="desktop-card-content">
                        <div class="desktop-card-name">${char.name}</div>
                        <div class="desktop-card-age">${char.age} –ª–µ—Ç</div>
                        <div class="desktop-card-tags">
                            <span class="desktop-tag">${char.emoji}</span>
                            <span class="desktop-tag">${char.personality}</span>
                        </div>
                    </div>
                `;
                
                card.onclick = () => selectCharacter(index);
                grid.appendChild(card);
            });
        }
        
        // –°–æ–∑–¥–∞–µ–º desktop grid
        createDesktopGrid();
          }

                 // AUTO ROTATE
         function startAutoRotate() {
             autoRotateInterval = setInterval(() => {
                 if (!isDragging) {
                     nextCharacter();
                 }
             }, 3000);
         }

         function stopAutoRotate() {
             clearInterval(autoRotateInterval);
         }

         function nextCharacter() {
             activeIndex = (activeIndex + 1) % totalCharacters;
             rotateCarousel();
         }

         function rotateCarousel() {
             const targetRotation = -activeIndex * angle;
             currentRotation = targetRotation;
             
             const carousel = document.getElementById('carousel');
             carousel.style.transform = `rotateY(${currentRotation}deg)`;
             
             // Update center card
             const cards = carousel.querySelectorAll('.card-inner');
             cards.forEach((card, index) => {
                 card.classList.toggle('center', index === activeIndex);
             });
         }

         function updateGallery() {
             rotateCarousel();
         }

         function selectCharacter(index) {
             activeIndex = index;
             updateGallery();
             
             if (window.Telegram?.WebApp) {
                 const data = {
                     action: 'select_character',
                     character: characters[index].name
                 };
                 window.Telegram.WebApp.sendData(JSON.stringify(data));
             }
         }

         // DRAG HANDLERS
         function startDrag(e) {
             isDragging = true;
             startX = e.clientX;
             stopAutoRotate();
             
             const angle = 360 / characters.length;
             currentRotation = -activeIndex * angle;
             
             // –£–±–∏—Ä–∞–µ–º transition –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ drag
             const carousel = document.getElementById('carousel');
             carousel.style.transition = 'none';
         }

         function startTouch(e) {
             e.preventDefault();
             isDragging = true;
             startX = e.touches[0].clientX;
             stopAutoRotate();
             
             const angle = 360 / characters.length;
             currentRotation = -activeIndex * angle;
             
             // –£–±–∏—Ä–∞–µ–º transition –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ drag
             const carousel = document.getElementById('carousel');
             carousel.style.transition = 'none';
         }

         function drag(e) {
             if (!isDragging) return;
             e.preventDefault();
             
             const deltaX = (e.clientX - startX) * 0.3;
             
             const carousel = document.getElementById('carousel');
             carousel.style.transform = `rotateY(${currentRotation + deltaX}deg)`;
         }

         function dragTouch(e) {
             if (!isDragging) return;
             e.preventDefault();
             
             const deltaX = (e.touches[0].clientX - startX) * 0.3;
             
             const carousel = document.getElementById('carousel');
             carousel.style.transform = `rotateY(${currentRotation + deltaX}deg)`;
         }

         function endDrag() {
             if (!isDragging) return;
             isDragging = false;
             
             // –í–æ–∑–≤—Ä–∞—â–∞–µ–º transition
             const carousel = document.getElementById('carousel');
             carousel.style.transition = 'transform 1000ms cubic-bezier(0.4, 0, 0.2, 1)';
             
             // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –ø–æ–≤–æ—Ä–æ—Ç –∏–∑ DOM
             const transform = carousel.style.transform;
             const match = transform.match(/rotateY\(([^)]+)deg\)/);
             if (match) {
                 currentRotation = parseFloat(match[1]);
             }
             
             // Snap to nearest card
             const angle = 360 / characters.length;
             const closestIndex = Math.round(-currentRotation / angle);
             activeIndex = ((closestIndex % characters.length) + characters.length) % characters.length;
             
             rotateCarousel();
             startAutoRotate();
         }

         // TOP PANEL FUNCTIONS
         function selectGender(gender) {
             currentGender = gender;
             
             // Update button states
             document.querySelectorAll('.gender-option').forEach(btn => {
                 btn.classList.remove('active');
             });
             event.target.classList.add('active');
             
             // Filter characters by gender - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
             if (window.Telegram?.WebApp) {
                 const data = {
                     action: 'select_gender',
                     gender: gender
                 };
                 window.Telegram.WebApp.sendData(JSON.stringify(data));
             }
         }

         function openProfile() {
             if (window.Telegram?.WebApp) {
                 const data = {
                     action: 'open_profile'
                 };
                 window.Telegram.WebApp.sendData(JSON.stringify(data));
             }
         }

         function openPremium() {
             if (window.Telegram?.WebApp) {
                 const data = {
                     action: 'open_premium'
                 };
                 window.Telegram.WebApp.sendData(JSON.stringify(data));
             }
         }

         function uploadPhoto() {
             if (window.Telegram?.WebApp) {
                 const data = {
                     action: 'upload_photo_for_similar'
                 };
                 window.Telegram.WebApp.sendData(JSON.stringify(data));
             }
         }

        // CREATE CATALOG - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0
        function createCatalog() {
            const grid = document.getElementById('catalog-grid');
            
            // Create companion card - —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ v0
            const createCard = document.createElement('div');
            createCard.className = 'create-companion-card';
            createCard.innerHTML = `
                <img class="create-companion-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='240' viewBox='0 0 180 240'%3E%3Crect width='180' height='240' fill='%23374151'/%3E%3C/svg%3E" alt="–°–æ–∑–¥–∞—Ç—å —Å–ø—É—Ç–Ω–∏–∫–∞">
                <div class="create-companion-overlay"></div>
                <div class="create-companion-content">
                    <svg class="create-fish-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 4V2C7 1.45 7.45 1 8 1S9 1.45 9 2V4H11V2C11 1.45 11.45 1 12 1S13 1.45 13 2V4H15C15.55 4 16 4.45 16 5S15.55 6 15 6H13V8L21.71 16.71C22.1 17.1 22.1 17.73 21.71 18.14L18.14 21.71C17.73 22.1 17.1 22.1 16.71 21.71L8 13V11H6C5.45 11 5 10.55 5 10S5.45 9 6 9H8V7H6C5.45 7 5 6.55 5 6S5.45 5 6 5H7V4Z"/>
                    </svg>
                    <h3 class="create-companion-title">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ —Å–ø—É—Ç–Ω–∏–∫–∞</h3>
                </div>
            `;
            createCard.onclick = () => navigateTo('create');
            grid.appendChild(createCard);

            // Photo-based creation card
            const photoCard = document.createElement('div');
            photoCard.className = 'catalog-card photo-creation-card';
            photoCard.innerHTML = `
                <div style="position: relative; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(147, 51, 234, 0.2)); border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 16px; text-align: center;">
                    <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616b612b1e4?w=40&h=40&fit=crop&crop=face" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=40&h=40&fit=crop&crop=face" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;">
                    </div>
                    <div style="position: absolute; top: 8px; right: 8px; background: rgba(236, 72, 153, 0.8); color: white; padding: 2px 6px; border-radius: 8px; font-size: 0.7rem;">‚ú®</div>
                    <h3 style="font-size: 0.8rem; font-weight: bold; color: white; margin-bottom: 8px; line-height: 1.2;">–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å –ø–æ —Ñ–æ—Ç–æ</h3>
                    <button style="background: rgba(236, 72, 153, 0.8); color: white; border: none; padding: 6px 12px; border-radius: 12px; font-size: 0.75rem; cursor: pointer;" onclick="event.stopPropagation(); uploadPhoto();">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</button>
                </div>
            `;
            photoCard.onclick = () => uploadPhoto();
            grid.appendChild(photoCard);
            
                         // Add character cards
             let filteredCharacters;
             if (currentFilter === "–í—Å–µ –º–æ–¥–µ–ª–∏") {
                 filteredCharacters = catalogCharacters;
             } else if (currentFilter === "–ú–æ–∏") {
                 filteredCharacters = []; // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –¥–ª—è "–ú–æ–∏" - –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
             } else {
                 filteredCharacters = catalogCharacters.filter(c => c.tag === currentFilter);
             }
            
            filteredCharacters.forEach(char => {
                const card = document.createElement('div');
                card.className = 'catalog-card';
                card.dataset.tag = char.tag;
                
                card.innerHTML = `
                    <img class="catalog-card-image" src="${char.image}" alt="${char.name}" loading="lazy">
                    <div class="catalog-card-overlay"></div>
                    <div class="catalog-card-tag">${char.tag}</div>
                    <div class="catalog-card-info">
                        <h3 class="catalog-card-name">
                            ${char.name} <span class="catalog-card-age">${char.age}</span>
                        </h3>
                    </div>
                    <button class="catalog-card-add" onclick="event.stopPropagation(); addCharacter('${char.name}')">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                    </button>
                `;
                
                card.onclick = () => selectCatalogCharacter(char);
                grid.appendChild(card);
            });
        }

        function addCharacter(name) {
            if (window.Telegram?.WebApp) {
                const data = {
                    action: 'add_character',
                    character: name
                };
                window.Telegram.WebApp.sendData(JSON.stringify(data));
            }
        }

        function selectCatalogCharacter(char) {
            if (window.Telegram?.WebApp) {
                const data = {
                    action: 'select_character',
                    character: char.name
                };
                window.Telegram.WebApp.sendData(JSON.stringify(data));
            }
        }

                 // FILTER CATALOG
         function filterCatalog(filter) {
             currentFilter = filter;
             
             // Update active filter button
             document.querySelectorAll('.filter-button').forEach(btn => {
                 btn.classList.remove('active');
             });
             event.target.classList.add('active');
             
             // Recreate catalog
             const grid = document.getElementById('catalog-grid');
             grid.innerHTML = '';
             createCatalog();
         }

        // NAVIGATION
        function navigateTo(page) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            
            // Show target page
            document.getElementById('page-' + page).classList.add('active');
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const activeNav = document.querySelector(`.nav-item[onclick="navigateTo('${page}')"]`);
            if (activeNav && !activeNav.classList.contains('create')) {
                activeNav.classList.add('active');
                // Add/remove dot
                const existingDots = document.querySelectorAll('.nav-dot');
                existingDots.forEach(dot => dot.remove());
                
                if (page === 'home') {
                    const dot = document.createElement('div');
                    dot.className = 'nav-dot';
                    activeNav.appendChild(dot);
                }
            }
            
            // Send to Telegram
            if (window.Telegram?.WebApp) {
                const data = {
                    action: 'navigate',
                    page: page
                };
                window.Telegram.WebApp.sendData(JSON.stringify(data));
            }
        }

        // PROMO TIMER
        let promoTimeLeft = 27 * 60 * 1000 + 49 * 1000; // 27:49 –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
        
        function updatePromoTimer() {
            const minutes = Math.floor(promoTimeLeft / 60000);
            const seconds = Math.floor((promoTimeLeft % 60000) / 1000);
            const milliseconds = Math.floor((promoTimeLeft % 1000) / 10);
            
            document.getElementById('timer-minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('timer-seconds').textContent = seconds.toString().padStart(2, '0');
            document.getElementById('timer-milliseconds').textContent = milliseconds.toString().padStart(2, '0');
            
            if (promoTimeLeft <= 0) {
                // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç
                promoTimeLeft = 30 * 60 * 1000;
            } else {
                promoTimeLeft -= 100;
            }
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–π–º–µ—Ä –∫–∞–∂–¥—ã–µ 100–º—Å –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
        setInterval(updatePromoTimer, 100);
        updatePromoTimer(); // –ù–∞—á–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤

        // –õ–û–ö–ê–õ–ò–ó–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´
        const translations = {
            ru: {
                'promo.first_subscription': '–ü–ï–†–í–ê–Ø –ü–û–î–ü–ò–°–ö–ê',
                'promo.discount': '–°–ö–ò–î–ö–ê –î–û 70%',
                'promo.get_now': '–ü–æ–ª—É—á–∏—Ç—å',
                'home.title': '–ù–∞–π–¥–∏ —Å–≤–æ—é –ø–∞—Ä—É',
                'home.subtitle': '–ù–∞—á–Ω–∏ –æ–±—â–∞—Ç—å—Å—è —Å AI-–∫–æ–º–ø–∞–Ω—å–æ–Ω–∞–º–∏',
                'nav.home': '–î–æ–º–æ–π',
                'nav.chat': '–ß–∞—Ç',
                'nav.create': '–°–æ–∑–¥–∞—Ç—å',
                'nav.generate': '–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å',
                'nav.collection': '–ö–æ–ª–ª–µ–∫—Ü–∏—è',
                'filters.all': '–í—Å–µ –º–æ–¥–µ–ª–∏',
                'filters.realistic': '–†–µ–∞–ª—å–Ω—ã–π',
                'filters.anime': '–ê–Ω–∏–º–µ',
                'filters.my': '–ú–æ–∏',
                'sidebar.explore': '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å',
                'sidebar.chat': '–ß–∞—Ç',
                'sidebar.collection': '–ö–æ–ª–ª–µ–∫—Ü–∏—è',
                'sidebar.generate': '–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è',
                'sidebar.create': '–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞',
                'sidebar.my_ai': '–ú–æ–π –ò–ò',
                'sidebar.premium': '–°—Ç–∞—Ç—å –ø—Ä–µ–º–∏—É–º',
                'hero.title': '–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ –ò–î–ï–ê–õ–¨–ù–û–ì–û –ö–û–ú–ü–ê–ù–¨–û–ù–ê',
                'hero.subtitle': '–í–∞—à –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤—Å–µ–≥–æ –≤ –æ–¥–Ω–æ–º –∫–ª–∏–∫–µ! –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–≥–æ –≤–Ω–µ—à–Ω–æ—Å—Ç—å, –ª–∏—á–Ω–æ—Å—Ç—å –∏ –≤–æ–ø–ª–æ—Ç–∏—Ç–µ —Å–≤–æ—é –º–µ—á—Ç—É –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –≤–º–µ—Å—Ç–µ',
                'hero.create_now': '–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ —Å–ø—É—Ç–Ω–∏–∫–∞',
                'hero.chat_with_companion': '–û–±—â–∞—Ç—å—Å—è —Å –ö–æ–º–ø–∞–Ω—å–æ–Ω–æ–º',
                'hero.generate_photo': '–û—Å—Ç—Ä—ã–µ —Ñ–æ—Ç–æ'
            },
            en: {
                'promo.first_subscription': 'FIRST SUBSCRIPTION',
                'promo.discount': 'UP TO 70% OFF',
                'promo.get_now': 'Get Now',
                'home.title': 'Find Your Match',
                'home.subtitle': 'Start chatting with AI companions',
                'nav.home': 'Home',
                'nav.chat': 'Chat',
                'nav.create': 'Create',
                'nav.generate': 'Generate',
                'nav.collection': 'Collection',
                'filters.all': 'All Models',
                'filters.realistic': 'Realistic',
                'filters.anime': 'Anime',
                'filters.my': 'My',
                'sidebar.explore': 'Explore',
                'sidebar.chat': 'Chat',
                'sidebar.collection': 'Collection',
                'sidebar.generate': 'Generate Image',
                'sidebar.create': 'Create Character',
                'sidebar.my_ai': 'My AI',
                'sidebar.premium': 'Become Premium',
                'hero.title': 'Create your own AI Girlfriend',
                'hero.subtitle': 'Your virtual partner in just one click! Customize appearance, personality and bring your dream to reality together',
                'hero.create_now': 'Create Now',
                'hero.chat_with_companion': 'Chat with Companion',
                'hero.generate_photo': 'Generate Photo'
            },
            es: {
                'promo.first_subscription': 'PRIMERA SUSCRIPCI√ìN',
                'promo.discount': 'HASTA 70% DE DESCUENTO',
                'promo.get_now': 'Obtener',
                'home.title': 'Encuentra Tu Pareja',
                'home.subtitle': 'Comienza a chatear con compa√±eros AI',
                'nav.home': 'Inicio',
                'nav.chat': 'Chat',
                'nav.create': 'Crear',
                'nav.generate': 'Generar',
                'nav.collection': 'Colecci√≥n',
                'filters.all': 'Todos',
                'filters.realistic': 'Realista',
                'filters.anime': 'Anime',
                'filters.my': 'Mis'
            },
            fr: {
                'promo.first_subscription': 'PREMIER ABONNEMENT',
                'promo.discount': 'JUSQU\'√Ä 70% DE R√âDUCTION',
                'promo.get_now': 'Obtenir',
                'home.title': 'Trouvez Votre Partenaire',
                'home.subtitle': 'Commencez √† discuter avec des compagnons IA',
                'nav.home': 'Accueil',
                'nav.chat': 'Chat',
                'nav.create': 'Cr√©er',
                'nav.generate': 'G√©n√©rer',
                'nav.collection': 'Collection',
                'filters.all': 'Tous',
                'filters.realistic': 'R√©aliste',
                'filters.anime': 'Anim√©',
                'filters.my': 'Mes'
            },
            de: {
                'promo.first_subscription': 'ERSTES ABONNEMENT',
                'promo.discount': 'BIS ZU 70% RABATT',
                'promo.get_now': 'Jetzt holen',
                'home.title': 'Finde Deinen Partner',
                'home.subtitle': 'Beginne mit KI-Begleitern zu chatten',
                'nav.home': 'Startseite',
                'nav.chat': 'Chat',
                'nav.create': 'Erstellen',
                'nav.generate': 'Generieren',
                'nav.collection': 'Sammlung',
                'filters.all': 'Alle',
                'filters.realistic': 'Realistisch',
                'filters.anime': 'Anime',
                'filters.my': 'Meine'
            }
        };

        let currentLanguage = 'ru';

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function detectUserLanguage() {
            // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º Telegram WebApp —è–∑—ã–∫
            if (window.Telegram?.WebApp?.initDataUnsafe?.user?.language_code) {
                const telegramLang = window.Telegram.WebApp.initDataUnsafe.user.language_code;
                if (translations[telegramLang]) {
                    return telegramLang;
                }
            }
            
            // –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ–º –±—Ä–∞—É–∑–µ—Ä
            const browserLang = navigator.language.split('-')[0];
            if (translations[browserLang]) {
                return browserLang;
            }
            
            // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä—É—Å—Å–∫–∏–π
            return 'ru';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
        function changeLanguage(lang) {
            if (!translations[lang]) return;
            currentLanguage = lang;
            updateTexts();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä —è–∑—ã–∫–∞
            localStorage.setItem('preferred_language', lang);
            
            // –£–≤–µ–¥–æ–º–ª—è–µ–º Telegram WebApp
            if (window.Telegram?.WebApp) {
                const data = {
                    action: 'language_changed',
                    language: lang
                };
                window.Telegram.WebApp.sendData(JSON.stringify(data));
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤
        function updateTexts() {
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    element.textContent = translations[currentLanguage][key];
                }
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–∑—ã–∫–∞
        function initializeLanguage() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —è–∑—ã–∫
            const savedLang = localStorage.getItem('preferred_language');
            if (savedLang && translations[savedLang]) {
                currentLanguage = savedLang;
            } else {
                currentLanguage = detectUserLanguage();
            }
            
            updateTexts();
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —è–∑—ã–∫–∞
        setTimeout(initializeLanguage, 100); // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ DOM
    </script>
</body>
</html>
